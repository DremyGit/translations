# Immutable.js介绍与函数式编程概念

> 原文[Introduction to Immutable.js and Functional Programming Concepts](https://auth0.com/blog/2016/03/23/intro-to-immutable-js/)，作者Sebastián Peyrott

这几年函数式编程逐渐火了起来。例如Clojure、Scala和Haskell这些编程语言已经吸引了很多对新技术着迷的程序员们的眼球，因为他们在某些方面有着巨大的优势。`Immutable.js`的目标是把其中的一些优势通过简单直观的API带到Javascript中来。请跟着我们通过这篇文章来学习这些（benefits）并运用到你的项目中。

## 介绍：不可变（immutability）和Immutable.js

尽管函数式编程的特变不仅仅在于其不可变，但很多的函数式语言都把不可变作为一个重点。例如Clojure和Haskell，都对数据如何改变和何时能够改变做出了严格的编译时限制。正因这一点，许多开发者便放弃了这些语言。对于那些能够忍受住最初的煎熬的人们来说，解决问题的新方式开始变得多样起来。特别是对于初次接触的人来说，数据结构是函数式范式的主要的争议点。

在这篇文章的末尾，是关于可变与不可变数据结构的比较，充满了冷酷的、复杂的数学概念。让逻辑分析告诉我们到底是哪一种数据结构最适合处理哪些问题。然而仅通过语言自身的支持来帮助实现这些数据结构可能会绕一段远路。集合了多范式语言优点的Javascript语言，为可变和不可变数据结构都提供了一个方便的平台。其它的一些语言，比如C语言，虽然也能够实现不可变数据结构，但是，这个语言本身的限制让这样变得很笨重。

那么到底什么是“变化(mutation)”呢？对于数据或者数据结构来说，“变化”是它们的一种内在的改变。而对于不可变来说，在改变之前必须要先对目标数据或者数据结构做一份拷贝

![immutablejs_tree](https://cdn.auth0.com/blog/immutablejs/tree.svg)

那么函数是数据结构的信条是什么呢？是什么使得不可变如此重要？它们的正确使用方式是什么？这些问题我们下边会提到。

> 注意：你可能在你的Javascript代码中已经使用了某个函数式编程语言的结构，但是你可能并不知道这一点。举个例子，`Array.map`通过对一个数组中的每一个元素提供一个函数，然后返回一个新的数组，但在这个过程中不会修改原始数据。函数式编程喜欢使用一等(first-class)函数，它们能被传入到别的函数中，并且返回已存在数据的新版本，这实际上就是`Array.map`所做的工作。这种处理数据的方式也喜欢函数式编程中的另一个核心概念——组合。

## 核心内容

这些是函数式编程的核心内容，通过这篇文章，你会知道这些概念如何适用在Immutable.js和其他的函数式类库的设计和使用之中的。

### 不可变

不可变是指在数据（和管理它的数据结构）被实例化之后，**不允许“变化”发生**。在实践中，“变化”能够分为两派：可见变化和不可见变化。**可见变化**是指那些可以被**外部观察者**通过API记录下来的，数据或者数据结构的变化。相对的，**不可见变化**是指那些不能够被外部观察者通过API（缓存数据结构是一个很好的例子）。








